[include shell_commands.cfg]

[exclude_object]
[gcode_arcs]
[display_status]
[respond]

[extruder]
min_extrude_temp: 180

[firmware_retraction]
retract_length: 1.2
#   The length of filament (in mm) to retract when G10 is activated,
#   and to unretract when G11 is activated (but see
#   unretract_extra_length below). The default is 0 mm.
retract_speed: 30
#   The speed of retraction, in mm/s. The default is 20 mm/s.
#unretract_extra_length: 0
#   The length (in mm) of *additional* filament to add when
#   unretracting.
unretract_speed: 20
#   The speed of unretraction, in mm/s. The default is 10 mm/s.

[gcode_macro M204]
rename_existing: M204.1
gcode:
    # Parameters
  {% set ACCEL = 0.0 %}
  {% if 'S' in params %}
    {% set ACCEL = params.S|int %}
  {% elif 'P' in params %}
    {% set ACCEL = params.P|int %}
  {% endif %}
  {% if ACCEL %}
    SET_VELOCITY_LIMIT ACCEL="{ACCEL}" ACCEL_TO_DECEL="{ACCEL/2}"
  {% else %}
    SET_VELOCITY_LIMIT
  {% endif %}
